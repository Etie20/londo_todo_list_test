{"version":3,"sources":["../../../src/services/task.service.ts"],"sourcesContent":["import taskModel from \"@models/task.model\";\r\nimport {Task} from \"@interfaces/task.interface\";\r\nimport {HttpException} from \"@exceptions/HttpException\";\r\nimport {isEmpty} from \"class-validator\";\r\nimport {CreateTaskDto} from \"@dtos/task.dto\";\r\n\r\nclass TaskService {\r\n    public task = taskModel;\r\n\r\n    public async findAllTask(userId: string): Promise<Task[]> {\r\n        return this.task.find().where('user', userId).populate('state').populate('category').populate('user');\r\n    }\r\n\r\n    public async createTask(taskData: CreateTaskDto): Promise<Task> {\r\n        if (isEmpty(taskData)) throw new HttpException(400, \"taskData is empty\");\r\n\r\n        return this.task.create({...taskData});\r\n    }\r\n\r\n    public async updateTask(taskId: string, taskData: CreateTaskDto): Promise<Task> {\r\n        if (isEmpty(taskData)) throw new HttpException(400, \"taskData is empty\");\r\n\r\n        return this.task.findByIdAndUpdate(taskId, {...taskData});\r\n    }\r\n\r\n    public async deleteTask(taskId: string): Promise<void> {\r\n        return this.task.findByIdAndDelete(taskId);\r\n    }\r\n}\r\n\r\nexport default TaskService;"],"names":["TaskService","findAllTask","userId","task","find","where","populate","createTask","taskData","isEmpty","HttpException","create","updateTask","taskId","findByIdAndUpdate","deleteTask","findByIdAndDelete","taskModel"],"mappings":";;;;+BA8BA;;;eAAA;;;kEA9BsB;+BAEM;gCACN;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAGtB,IAAA,AAAMA,cAAN,MAAMA;IAGF,MAAaC,YAAYC,MAAc,EAAmB;QACtD,OAAO,IAAI,CAACC,IAAI,CAACC,IAAI,GAAGC,KAAK,CAAC,QAAQH,QAAQI,QAAQ,CAAC,SAASA,QAAQ,CAAC,YAAYA,QAAQ,CAAC;IAClG;IAEA,MAAaC,WAAWC,QAAuB,EAAiB;QAC5D,IAAIC,IAAAA,uBAAO,EAACD,WAAW,MAAM,IAAIE,4BAAa,CAAC,KAAK;QAEpD,OAAO,IAAI,CAACP,IAAI,CAACQ,MAAM,CAAC,mBAAIH;IAChC;IAEA,MAAaI,WAAWC,MAAc,EAAEL,QAAuB,EAAiB;QAC5E,IAAIC,IAAAA,uBAAO,EAACD,WAAW,MAAM,IAAIE,4BAAa,CAAC,KAAK;QAEpD,OAAO,IAAI,CAACP,IAAI,CAACW,iBAAiB,CAACD,QAAQ,mBAAIL;IACnD;IAEA,MAAaO,WAAWF,MAAc,EAAiB;QACnD,OAAO,IAAI,CAACV,IAAI,CAACa,iBAAiB,CAACH;IACvC;;QApBA,uBAAOV,QAAOc,kBAAS;;AAqB3B;MAEA,WAAejB"}
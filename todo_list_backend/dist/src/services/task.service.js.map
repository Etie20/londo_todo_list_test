{"version":3,"sources":["../../../src/services/task.service.ts"],"sourcesContent":["import taskModel from \"@models/task.model\";\r\nimport {Task} from \"@interfaces/task.interface\";\r\nimport {HttpException} from \"@exceptions/HttpException\";\r\nimport {isEmpty} from \"class-validator\";\r\nimport {CreateTaskDto} from \"@dtos/task.dto\";\r\n\r\nclass TaskService {\r\n    public task = taskModel;\r\n\r\n    public async findAllTask(userId: string): Promise<Task[]> {\r\n        return this.task.find().where('user', userId).populate('state').populate('category').populate('user');\r\n    }\r\n\r\n    public async createTask(taskData: CreateTaskDto): Promise<Task> {\r\n        if (isEmpty(taskData)) throw new HttpException(400, \"taskData is empty\");\r\n\r\n        return this.task.create({...taskData});\r\n    }\r\n\r\n    public async updateTask(taskId: string, taskData: CreateTaskDto): Promise<Task> {\r\n        if (isEmpty(taskData)) throw new HttpException(400, \"taskData is empty\");\r\n\r\n        return this.task.findByIdAndUpdate(taskId, {...taskData});\r\n    }\r\n\r\n    public async deleteTask(taskId: string): Promise<void> {\r\n        return this.task.findByIdAndDelete(taskId);\r\n    }\r\n}\r\n\r\nexport default TaskService;"],"names":["taskModel","HttpException","isEmpty","TaskService","task","findAllTask","userId","find","where","populate","createTask","taskData","create","updateTask","taskId","findByIdAndUpdate","deleteTask","findByIdAndDelete"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,eAAe,qBAAqB;AAE3C,SAAQC,aAAa,QAAO,4BAA4B;AACxD,SAAQC,OAAO,QAAO,kBAAkB;AAGxC,IAAA,AAAMC,4BAAN;;aAAMA;gCAAAA;QACF,uBAAOC,QAAOJ;;kBADZG;;YAGWE,KAAAA;mBAAb,SAAaA,YAAYC,MAAc;;uBAAvC,oBAAA;;wBACI;;4BAAO,MAAKF,IAAI,CAACG,IAAI,GAAGC,KAAK,CAAC,QAAQF,QAAQG,QAAQ,CAAC,SAASA,QAAQ,CAAC,YAAYA,QAAQ,CAAC;;;gBAClG;;;;YAEaC,KAAAA;mBAAb,SAAaA,WAAWC,QAAuB;;uBAA/C,oBAAA;;wBACI,IAAIT,QAAQS,WAAW,MAAM,IAAIV,cAAc,KAAK;wBAEpD;;4BAAO,MAAKG,IAAI,CAACQ,MAAM,CAAC,mBAAID;;;gBAChC;;;;YAEaE,KAAAA;mBAAb,SAAaA,WAAWC,MAAc,EAAEH,QAAuB;;uBAA/D,oBAAA;;wBACI,IAAIT,QAAQS,WAAW,MAAM,IAAIV,cAAc,KAAK;wBAEpD;;4BAAO,MAAKG,IAAI,CAACW,iBAAiB,CAACD,QAAQ,mBAAIH;;;gBACnD;;;;YAEaK,KAAAA;mBAAb,SAAaA,WAAWF,MAAc;;uBAAtC,oBAAA;;wBACI;;4BAAO,MAAKV,IAAI,CAACa,iBAAiB,CAACH;;;gBACvC;;;;WArBEX;;AAwBN,eAAeA,YAAY"}